var b=Object.defineProperty;var k=(t,e,r)=>e in t?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var h=(t,e,r)=>(k(t,typeof e!="symbol"?e+"":e,r),r),x=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var f=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};var w=(t,e,r)=>(x(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var c,m;class L{constructor(){f(this,c);h(this,"forward");h(this,"backward");h(this,"left");h(this,"right");this.forward=!1,this.backward=!1,this.left=!1,this.right=!1,w(this,c,m).call(this)}}c=new WeakSet,m=function(){document.addEventListener("keydown",e=>{switch(e.key){case"ArrowUp":this.forward=!0;break;case"ArrowDown":this.backward=!0;break;case"ArrowLeft":this.left=!0;break;case"ArrowRight":this.right=!0;break}}),document.addEventListener("keyup",e=>{switch(e.key){case"ArrowUp":this.forward=!1;break;case"ArrowDown":this.backward=!1;break;case"ArrowLeft":this.left=!1;break;case"ArrowRight":this.right=!1;break}})};const v="/car/assets/car-e68a316e.png",d=new Image;d.src=v;class A{constructor(e,r,o,s){h(this,"x");h(this,"y");h(this,"speed");h(this,"maxSpeed");h(this,"acceleration");h(this,"friction");h(this,"angle");h(this,"width");h(this,"height");h(this,"controls");this.x=e,this.y=r,this.speed=0,this.maxSpeed=15,this.acceleration=.5,this.friction=1.02,this.angle=0,this.width=o,this.height=s,this.controls=new L,d.width=this.width*2,d.height=this.height*2}draw(){if(n==null)throw new Error("ctx is null");n.save(),n.translate(this.x,this.y+this.height/1.8),n.rotate(this.angle),n.translate(0,-this.height/1.8),n.drawImage(d,-this.width/2,-this.height/2,this.width,this.height),n.restore()}update(){this.controls.forward&&this.speed<=this.maxSpeed&&(this.speed+=this.acceleration),this.controls.backward&&this.speed>=-this.maxSpeed&&(this.speed-=this.acceleration/1.5),this.controls.left&&(this.angle-=.012*this.speed/4.7),this.controls.right&&(this.angle+=.012*this.speed/4.7),this.x+=Math.sin(this.angle)*this.speed,this.y-=Math.cos(this.angle)*this.speed,this.speed/=this.friction,Math.abs(this.speed)<.2&&(this.speed=0)}}const i=document.createElement("canvas"),n=i.getContext("2d"),g=document.getElementById("app");i.classList.add("canvas");i.width=window.innerWidth*2;i.height=window.innerHeight*2;i.style.width=i.width/2+"px";i.style.height=i.height/2+"px";g!=null&&g.append(i);const p=new A(i.width/2,i.height-200,80,160);let u=0;function y(t){const e=t-u;u=t,~~(e%16)||(n!=null&&n.clearRect(0,0,i.width,i.height),p.draw(),p.update()),requestAnimationFrame(y)}y(0);window.addEventListener("resize",()=>{i.width=window.innerWidth*2,i.height=window.innerHeight*2,i.style.width=i.width/2+"px",i.style.height=i.height/2+"px"});
